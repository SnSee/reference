# 模板

## 1. 在类模板中声明函数模板为友元

将函数模板(friend_function)声明为类模板(FriendClass)的友元。

### 1.1. 声明方式一(推荐)

```cpp
template<typename T>
class FriendClass;

template<typename T>
void friend_function(FriendClass<T> &v);

template<typename T>
class FriendClass {
  private:
    int fc_value = 1024;
    friend void friend_function<T>(FriendClass<T> &);
};
```

### 1.2. 声明方式二

```text
不要求模板函数与模板类的泛型相同；如 friend_function<int>也可访问FriendClass<float>
```

```cpp
template<typename T>
class FriendClass {
  private:
    int fc_value = 1024;
    template<typename S>
    friend void friend_function(FriendClass<S> &);
};
```

### 1.3. 使用

```cpp
template<typename T>
void friend_function(FriendClass<T> &v) {
    std::cout << v.fc_value << std::endl;
}

void test() {
    auto f = FriendClass<int>();
    friend_function(f);
}

```
